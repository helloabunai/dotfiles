
# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀█ █░█ █░░ █▀▀ █▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █▀▄ █▄█ █▄▄ ██▄ ▄█

# See https://wiki.hyprland.org/Configuring/Window-Rules/

# '$&' is a hyde specific shorthand for "override" \\ analogous to a reference
# This symbol indicates that the following values will override the default configuration
$&=override

## Monitor workspaces/layout
## Physical monitor (DP-1)
workspace=1, monitor:DP-1, persistent:true
workspace=2, monitor:DP-1, persistent:true
workspace=3, monitor:DP-1, persistent:true
workspace=4, monitor:DP-1, persistent:true
workspace=5, monitor:DP-2,persistent:true
workspace=6, monitor:HDMI-A-1
workspace=7, monitor:HDMI-A-2

# Main apps
windowrule = match:class (firefox), workspace 1
windowrule = match:class (spotify), workspace 2
windowrule = match:class (steam), workspace 3
windowrule = match:xdg_tag (proton-game), workspace 6
windowrule = match:class (discord), workspace 5, move (0) (1280), size (1440) (1280)
windowrule = match:class (steam), match:title (Friends List), workspace 5, move (0) (0), size (1440) (1280)
windowrule = match:class (steam), match:initial_title (^(Steam Big Picture Mode)$), workspace 6, fullscreen true

# Idle inhibit/opacity
windowrule = match:class (^(.*celluloid.*)$|^(.*mpv.*)$|^(.*vlc.*)$), idle_inhibit fullscreen
windowrule = match:class (^(.*[Ss]potify.*)$), idle_inhibit fullscreen
windowrule = match:class (^(.*LibreWolf.*)$|^(.*floorp.*)$|^(.*brave-browser.*)$|^(.*firefox.*)$|^(.*chromium.*)$|^(.*zen.*)$|^(.*vivaldi.*)$), idle_inhibit fullscreen
windowrule = match:title (^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$), float 1, keep_aspect_ratio 1, pin 1, move monitor_w*0.73 monitor_h*0.72, size monitor_w*0.25
windowrule = match:class (^(firefox)$), opacity 0.98 $& 0.9 $& 1 $&
windowrule = match:class (^(code-oss)$), opacity 0.98 $& 0.9 $& 1 $&
windowrule = match:class (^([Cc]ode)$), opacity 0.98 $& 0.9 $& 1 $&
windowrule = match:class (^(code-url-handler)$), opacity 0.98 $& 0.9 $& 1 $&
windowrule = match:class (^(code-insiders-url-handler)$), opacity 0.98 $& 0.8 $& 1 $&
windowrule = match:class (^(kitty)$), opacity 0.98 $& 0.8 $& 1 $&
windowrule = match:class (^(org.kde.dolphin)$), opacity 0.98 $& 0.8 $& 1 $&

# Floated + Opacity Apps
windowrule = match:class (^(org.kde.ark)$), float 1, opacity 0.98 $& 0.8 $& 1 $&
windowrule = match:class (^(nwg-look)$), float 1, opacity 0.98 $& 0.8 $& 1 $&
windowrule = match:class (^(qt5ct)$), float (1), opacity 0.98 $& 0.8 $& 1 $&
windowrule = match:class (^(qt6ct)$), float 1, opacity 0.98 $& 0.8 $& 1 $&
windowrule = match:class (^(kvantummanager)$), float 1, opacity 0.98 $& 0.8 $& 1 $&
windowrule = match:class (^(org.pulseaudio.pavucontrol)$), float 1, opacity 0.98 $& 0.7 $& 1 $&
windowrule = match:class (^(blueman-manager)$), float 1, opacity 0.98 $& 0.7 $& 1 $&
windowrule = match:class (^(nm-applet)$), float 1, opacity 0.98 $& 0.7 $& 1 $&
windowrule = match:class (^(nm-connection-editor)$), float 1, opacity 0.98 $& 0.7 $& 1 $&
windowrule = match:class (^(org.kde.polkit-kde-authentication-agent-1)$), float 1, opacity 0.98 $& 0.7 $& 1 $&

# Authentication Agents & Portals
windowrule = match:class (^(polkit-gnome-authentication-agent-1)$), opacity 0.98 $& 0.7 $& 1.0 $&
windowrule = match:class (^(org.freedesktop.impl.portal.desktop.gtk)$), opacity 0.98 $& 0.7 $& 1.0 $&
windowrule = match:class (^(org.freedesktop.impl.portal.desktop.hyprland)$), opacity 0.98 $& 0.7 $& 1.0 $&

# Steam & Spotify Opacity/Floating
windowrule = match:class (^([Ss]team)$), opacity 0.99 $& 0.7 $& 1.0 $&
windowrule = match:title (^(Steam Settings)$), float 1
windowrule = match:class (^(steamwebhelper)$), opacity 0.98 $& 0.7 $& 1.0 $&
windowrule = match:class (^([Ss]potify)$), opacity 0.98 $& 0.7 $& 1.0 $&
windowrule = match:initial_title (^(Spotify Free)$), opacity 0.98 $& 0.7 $& 1.0 $&
windowrule = match:initial_title (^(Spotify Premium)$), opacity 0.98 $& 0.7 $& 1.0 $&

# Electron/GTK Apps Opacity
windowrule = match:class (^(com.github.rafostar.Clapper)$), float 1, opacity 0.98 $& 0.9 $&
windowrule = match:class (^(com.github.tchx84.Flatseal)$), opacity 0.98 $& 0.8 $&
windowrule = match:class (^(hu.kramo.Cartridges)$), opacity 0.98 $& 0.8 $&
windowrule = match:class (^(com.obsproject.Studio)$), opacity 0.98 $& 0.8 $&
windowrule = match:class (^(gnome-boxes)$), opacity 0.98 $& 0.8 $&
windowrule = match:class (^(vesktop)$), opacity 0.98 $& 0.8 $&
windowrule = match:class (^(discord)$), opacity 0.98 $& 0.8 $&
windowrule = match:class (^(WebCord)$), opacity 0.98 $& 0.8 $&
windowrule = match:class (^(ArmCord)$), opacity 0.98 $& 0.8 $&

# Dolphin Dialogs
windowrule = match:class (^(org.kde.dolphin)$), match:title (^(Progress Dialog — Dolphin)$), float 1
windowrule = match:class (^(org.kde.dolphin)$), match:title (^(Copying — Dolphin)$), float 1

# Firefox & Utils
windowrule = match:title (About Mozilla Firefox), float 1
windowrule = match:title (^(Extension: \(Bitwarden.*)$), float 1
windowrule = match:class (^(firefox)$), match:title (^(Picture-in-Picture)$), float 1
windowrule = match:class (^(firefox)$), match:title (^(Library)$), float 1

# Terminal Apps
windowrule = match:class (^(kitty)$), match:title (^(top)$), float 1
windowrule = match:class (^(kitty)$), match:title (^(btop)$), float 1
windowrule = match:class (^(kitty)$), match:title (^(htop)$), float 1

# Media & Viewers
windowrule = match:class (^(vlc)$), float 1
windowrule = match:class (^(eog)$), float 1
windowrule = match:class (^(com.github.unrud.VideoDownloader)$), float 1

windowrule = match:title (^(Open)$), float 1
windowrule = match:title (^(Authentication Required)$), float 1
windowrule = match:title (^(Add Folder to Workspace)$), float 1
windowrule = match:initial_title (^(Open File)$), float 1
windowrule = match:title (^(Choose Files)$), float 1
windowrule = match:title (^(Save As)$), float 1
windowrule = match:title (^(Confirm to replace files)$), float 1
windowrule = match:title (^(File Operation Progress)$), float 1
windowrule = match:class (^([Xx]dg-desktop-portal-gtk)$), float 1
windowrule = match:title (^(File Upload)(.*)$), float 1
windowrule = match:title (^(Choose wallpaper)(.*)$), float 1
windowrule = match:title (^(Library)(.*)$), float 1
windowrule = match:class (^(.*dialog.*)$), float 1
windowrule = match:title (^(.*dialog.*)$), float 1

# █░░ ▄▀█ █▄█ █▀▀ █▀█   █▀█ █░█ █░░ █▀▀ █▀
# █▄▄ █▀█ ░█░ ██▄ █▀▄   █▀▄ █▄█ █▄▄ ██▄ ▄█

layerrule {
  name = layerrule-1
  ignore_alpha = 0
  match:namespace = waybar
}

layerrule {
  name = layerrule-2
  blur = on
  ignore_alpha = 0
  match:namespace = rofi
}

layerrule {
  name = layerrule-3
  blur = on
  ignore_alpha = 0
  match:namespace = notifications
}

layerrule {
  name = layerrule-4
  blur = on
  ignore_alpha = 0
  match:namespace = swaync-notification-window
}

layerrule {
  name = layerrule-5
  blur = on
  ignore_alpha = 0
  match:namespace = swaync-control-center
}

layerrule {
  name = layerrule-6
  blur = on
  match:namespace = logout_dialog
}

